<!DOCTYPE html>
<html>
<head>
  <title>JS Registration Page</title>
</head>
<style>
    .hidden { display: none; }
    .result-card {
      margin-top: 20px;
    }
</style>

<body>

    <div class="navbar">
        <ul>
         <li><a href="https://cuthl.github.io/">Home</a></li>
         <li><a href="lab3.html">Lab 3</a></li>
         <li><a href="lab4.html">Lab 4</a></li>
         <li><a href="lab5.html">Lab 5</a></li>
         </ul>
    </div>

    <div class="container">
        <h2 class="text-center">User Registration</h2>
        <form id="registrationForm">

            <div class="form-group">
                <label for="firstName">First Name</label>
                <input type="text" class="form-control" id="firstName" required>
            </div>

            <div class="form-group">
                <label for="lastName">Last Name</label>
                <input type="text" class="form-control" id="lastName" required>
            </div>

            <div class="form-group">
                <label for="email">Email Address</label>
                <input type="email" class="form-control" id="email" required>
            </div>

            <div class="form-group">
                <label for="password">Password</label>
                <input type="password" class="form-control" id="password" required>
                <small class="form-text text-muted">Password must contain at least one special character !,@,#,*,.... </small>
            </div>

            <div class="form-group">
                <label for="dob">Date of Birth</label>
                <input type="date" class="form-control" id="dob" required>
            </div>

            <button onclick="submitForm()">Register</button>
        </form>

        <div id="registrationResult" class="mt-4"></div>            
    </div>

    <script>
        function submitForm() {
    const elements = document.getElementById("registrationForm").elements;
    const inputs = Array.from(elements);
    let user = {};

    inputs.forEach((el) => {
      if (el.name) {
        user[el.name] = el.value.trim();
      }
    });

    const resultDiv = document.getElementById("result");
    const resultContent = document.getElementById("resultContent");

    if (!user.fname || !user.lname || !user.email || !user.password || !user.dob) {
      resultContent.innerHTML = `<h4 class="text-danger">Registration Failed</h4><p>All fields must be filled out.</p>`;
      resultDiv.classList.remove("hidden");
      return;
    }

    if (!(user.password.includes("!") || user.password.includes("?"))) {
      resultContent.innerHTML = `<h4 class="text-danger">Registration Failed</h4><p>Password must contain "!" or "?".</p>`;
      resultDiv.classList.remove("hidden");
      return;
    }

    const maskedPassword = "*".repeat(user.password.length);

    resultContent.innerHTML = `
      <h4 class="text-success">Registration Successful!</h4>
      <p><strong>First Name:</strong> ${user.fname}</p>
      <p><strong>Last Name:</strong> ${user.lname}</p>
      <p><strong>Email:</strong> ${user.email}</p>
      <p><strong>Password:</strong> ${maskedPassword}</p>
      <p><strong>Date of Birth:</strong> ${user.dob}</p>
    `;
    resultDiv.classList.remove("hidden");
  }
    </script>

</body>