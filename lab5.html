<!DOCTYPE html>
<html>
<head>
  <title>JS Registration Page</title>
</head>
<style>
    .hidden { display: none; }
    .result-card {
      margin-top: 20px;
    }
</style>

<body>

    <div class="navbar">
        <ul>
         <li><a href="https://cuthl.github.io/">Home</a></li>
         <li><a href="lab3.html">Lab 3</a></li>
         <li><a href="lab4.html">Lab 4</a></li>
         <li><a href="lab5.html">Lab 5</a></li>
         </ul>
    </div>

    <div class="container">
        <h2 class="text-center">User Registration</h2>
        <form id="registrationForm">

            <div class="form-group">
                <label for="firstName">First Name</label>
                <input type="text" class="form-control" id="firstName" name="firstName"required>
            </div>

            <div class="form-group">
                <label for="lastName">Last Name</label>
                <input type="text" class="form-control" id="lastName" name="lastName" required>
            </div>

            <div class="form-group">
                <label for="email">Email Address</label>
                <input type="email" class="form-control" id="email" name="email" required>
            </div>

            <div class="form-group">
                <label for="password">Password</label>
                <input type="password" class="form-control" id="password" name="password" required>
                <small class="form-text text-muted">Password must contain at least one special character !,@,#,*,.... </small>
            </div>

            <div class="form-group">
                <label for="dob">Date of Birth</label>
                <input type="date" class="form-control" id="dob" name="dob"required>
            </div>

            <button type="button" onclick="submitForm()">Register</button>
        </form>

        <div id="registrationResult" class="mt-4"></div>            
    </div>

    <script>
        function submitForm() {
    const elements = document.getElementById("registrationForm").elements;
    const inputs = Array.from(elements);
    let user = {};

    inputs.forEach((el) => {
      if (el.name) {
        user[el.name] = el.value.trim();
      }
    });

    const resultContent = document.getElementById("registrationResult");
    const resultDiv = resultContent; 

    if (!user.fname || !user.lname || !user.email || !user.password || !user.dob) {
      resultContent.innerHTML = `<h4 class="text-danger">Registration Failed</h4><p>All fields must be filled out.</p>`;
      resultDiv.classList.remove("hidden");
      return;
    }

    if (!(user.password.includes("!") || user.password.includes("?"))) {
      resultContent.innerHTML = `<h4 class="text-danger">Registration Failed</h4><p>Password must contain "!" or "?".</p>`;
      resultDiv.classList.remove("hidden");
      return;
    }

    const maskedPassword = "*".repeat(user.password.length);

    resultContent.innerHTML = "";

    const heading = document.createElement("h4");
    heading.className = "text-success";
    heading.textContent = "Registration Successful!";
    resultContent.appendChild(heading);

    const fields = [
        { label: "First Name", value: user.firstName },
        { label: "Last Name", value: user.lastName },
        { label: "Email", value: user.email },
        { label: "Password", value: password },
        { label: "Date of Birth", value: user.dob }
        ];

    fields.forEach(field => {
    const p = document.createElement("p");
    const strong = document.createElement("strong");
    strong.textContent = `${field.label}: `;
    p.appendChild(strong);
    p.append(field.value);
        resultContent.appendChild(p);
    });
        resultDiv.classList.remove("hidden");
    }
</script>

</body>